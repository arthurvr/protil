!function(r,e){if(typeof exports==="object"){var t=t||require("../lib/Promise");global.Promise=t;module.exports=e(global)}else if(r.window){r.protil=e(r)}}(this,function(r){"use strict";var e={};var t=r.Promise;var o=undefined;if(r.protil)o=r.protil;e.noConflict=function(){global.protil=o;return this};e.setPromises=function(r){if(!this._checkPromises(r)){throw new Error("protil Promises must provide ES6 Promise Constructor")}else{t=r}};e.isValidPromise=function(r){return typeof r.then().then==="function"&&r.then()instanceof Object.getPrototypeOf(r).constructor};e._checkPromises=function(r){var e=r||t;var o=undefined;try{o=new e(function(r,e){return true?r(true):e(false)})}catch(i){return false}return this.isValidPromise(o)};return e});