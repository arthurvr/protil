{"version":3,"sources":["../lib/protil.js"],"names":[],"mappings":";;;;;AAKA,CAAC,CAAA,UAAS,IAAI,EAAE,OAAO,EAAE;AACvB,MAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;AAC/B,UAAM,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;GAClC,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;AACtB,QAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;GAC7B,MAAM;AACL,WAAO;GACR;CAEF,CAAA,CAAC,IAAI,EAAE,UAAS,IAAI,EAAE;AACrB,cAAY,CAAC;;AAEb,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;;AAE3B,MAAI,IAAI,YAAA,CAAC;AACT,MAAI,IAAI,CAAC,MAAM,EAAE,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;;AAEpC,QAAM,CAAC,UAAU,GAAG,YAAW;AAC7B,UAAM,CAAC,MAAM,GAAG,IAAI,CAAC;AACrB,WAAO,IAAI,CAAC;GACb,CAAC;;;AAGF,MAAI,CAAC,OAAO,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;AAC7C,QAAI,OAAO,GAAG,oCAAoC,GAChD,mEAAmE,CAAC;AACtE,WAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GACvB;;AAED,QAAM,CAAC,UAAU,GAAG,UAAS,CAAC,EAAE;AAC9B,WAAO,GAAG,CAAC,CAAC;GACb,CAAC;;AAEF,SAAO,MAAM,CAAC;CACf,CAAC,CAAC","file":"protil.js","sourcesContent":["/**\n * protil\n * a utility library for working with promises\n */\n\n!function(root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory(global);\n  } else if (root.window) {\n    root.protil = factory(root);\n  } else {\n    return;\n  }\n\n}(this, function(root) {\n  'use strict';\n\n  let protil = {};\n  let Promise = root.Promise;\n\n  let prev;\n  if (root.protil) prev = root.protil;\n\n  protil.noConflict = function() {\n    global.protil = prev;\n    return this;\n  };\n\n  // check for promise constructor\n  if (!Promise || typeof Promise !== 'function') {\n    let warning = 'Promise constructor not detected. ' +\n      'Please pass your promise implementation to the setPromise method.';\n    console.warn(warning);\n  }\n\n  protil.setPromise = function(p) {\n    Promise = p;\n  };\n\n  return protil;\n});\n"]}